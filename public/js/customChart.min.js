var createLineChart=function(t,a){function r(){return d3.svg.axis().scale(s).orient("left").ticks(5)}if($(window).width()<768)var e=200;else var e=300;var n=a,i=(d3.select("#linechart-homepage").append("svg").attr("width",n+1).attr("height",e).attr("id","visualization"),d3.select("#visualization")),l={top:20,right:20,bottom:20,left:50},o=d3.scale.ordinal().rangeRoundBands([0,n-50],0),s=d3.scale.linear().range([e-l.top,l.bottom]),c=d3.svg.axis().orient("bottom").scale(o).ticks(2),d=d3.svg.axis().orient("left").scale(s).ticks(6);t.forEach(function(t){t.xValue=t.xValue,t.chart1=+t.chart1,t.chart2=+t.chart2});var u=d3.max(t,function(t){return t.chart2});o.domain(t.map(function(t){return t.xValue})),s.domain([0,u]),i.append("svg:g").attr("class","axis").attr("transform","translate("+l.left+","+(e-l.bottom)+")").call(c),i.append("svg:g").attr("class","axis").attr("transform","translate("+l.left+",0)").call(d),i.append("svg:g").attr("class","grid").attr("transform","translate("+l.left+",0)").call(r().tickSize(-n,0,0).tickFormat(""));var f=d3.svg.line().x(function(t){return o(t.xValue)}).y(function(t){return s(t.chart1)}),h=i.append("svg:path").attr("d",f(t)).attr("transform","translate("+((o(t[0].xValue)+o(t[1].xValue))/2+l.left)+",0)").attr("stroke","#E5E5E5").attr("stroke-width",2).attr("fill","none"),g=h.node().getTotalLength();h.attr("stroke-dasharray",g+" "+g).attr("stroke-dashoffset",g).transition().duration(1e3).ease("linear").attr("stroke-dashoffset",0);var m=d3.svg.line().x(function(t){return o(t.xValue)}).y(function(t){return s(t.chart2)}),p=i.append("svg:path").attr("d",m(t)).attr("transform","translate("+((o(t[0].xValue)+o(t[1].xValue))/2+l.left)+",0)").attr("stroke","#ccc").attr("stroke-width",2).attr("fill","none"),x=p.node().getTotalLength();p.attr("stroke-dasharray",x+" "+x).attr("stroke-dashoffset",x).transition().duration(1e3).ease("linear").attr("stroke-dashoffset",0),i.selectAll("dot").data(t).enter().append("circle").filter(function(t){return t.chart1}).attr("r",4).attr("fill","#0042B1").attr("cx",function(a){return o(a.xValue)+((o(t[0].xValue)+o(t[1].xValue))/2+l.left)}).attr("cy",function(t){return s(t.chart1)}),i.selectAll("dot").data(t).enter().append("circle").filter(function(t){return t.chart2}).attr("r",4).attr("fill","#CE0029").attr("cx",function(a){return o(a.xValue)+((o(t[0].xValue)+o(t[1].xValue))/2+l.left)}).attr("cy",function(t){return s(t.chart2)})},createLineChartRest=function(t,a){function r(){return d3.svg.axis().scale(s).orient("left").ticks(6)}if($(window).width()<768)var e=200;else var e=300;var n=a,i=(d3.select("#linechart-rest").append("svg").attr("width",n+1).attr("height",e).attr("id","visualization"),d3.select("#visualization")),l={top:20,right:20,bottom:20,left:34},o=d3.scale.ordinal().rangeRoundBands([0,n-50],0),s=d3.scale.linear().range([e-l.top,l.bottom]),c=d3.svg.axis().orient("bottom").scale(o).ticks(2),d=d3.svg.axis().orient("left").scale(s).ticks(6);t.forEach(function(t){t.xValue=t.xValue,t.chart1=+t.chart1,t.chart2=+t.chart2});var u=d3.max(t,function(t){return t.chart2});o.domain(t.map(function(t){return t.xValue})),s.domain([0,u]),i.append("svg:g").attr("class","axis").attr("transform","translate("+l.left+","+(e-l.bottom)+")").call(c),i.append("svg:g").attr("class","axis").attr("transform","translate("+l.left+",0)").call(d),i.append("svg:g").attr("class","grid").attr("transform","translate("+l.left+",0)").call(r().tickSize(-n,0,0).tickFormat(""));var f=d3.svg.line().x(function(t){return o(t.xValue)}).y(function(t){return s(t.chart2)}),h=i.append("svg:path").attr("d",f(t)).attr("transform","translate("+((o(t[0].xValue)+o(t[1].xValue))/2+l.left)+",0)").attr("stroke","#C0C0C0").attr("stroke-width",2).attr("fill","none"),g=h.node().getTotalLength();h.attr("stroke-dasharray",g+" "+g).attr("stroke-dashoffset",g).transition().duration(1e3).ease("linear").attr("stroke-dashoffset",0),i.selectAll("dot").data(t).enter().append("circle").filter(function(t){return t.chart2}).attr("r",4).attr("fill","#CE0029").attr("cx",function(a){return o(a.xValue)+((o(t[0].xValue)+o(t[1].xValue))/2+l.left)}).attr("cy",function(t){return s(t.chart2)})},createBarChartProcuring=function(t,a,r,e,n){if($(window).width()<768)var i=12,l=37,o=21;else var i=20,l=55,o=32;var s,c,d,u=d3.max(t,function(t){return t.value}),f="#"+a,h=e,g=l*t.length;d3.select("#main").node();$(f).html(""),s=d3.select(f).append("svg").attr("class","chart").attr("width",h).attr("height",g),c=d3.scale.linear().domain([0,u]).range([0,h-151]),d=d3.scale.ordinal().rangeBands([0,g]),s.selectAll("rect").data(t).enter().append("rect").attr("x",170).attr("y",function(a,r){return r*(g/t.length)}).attr("class",function(t){return null!==t.name?"name":void 0}).attr("height",l-i).on("click",function(t){return null!==t.name?window.location.assign(window.location.origin+"/"+r+"/"+t.name):void 0}).attr("width",0).transition().duration(900).ease("linear").attr("width",function(t){return c(t.value)}).attr("x",170),s.selectAll("text.value").data(t).enter().append("text").text(function(t){return"amount"===n?d3.format(",")(Math.round(t.value))+" leu":d3.format(",")(Math.round(t.value))}).attr("y",function(a,r){return r*(g/t.length)}).attr("dx",173).attr("dy",l-o).attr("class","value").on("click",function(t){return null!==t.name?window.location.assign(window.location.origin+"/"+r+"/"+t.name):void 0}).attr("id",function(t,a){return t.name}),s.selectAll("text.name").data(t).enter().append("text").text(function(t){return null!=t.name?t.name.length>20?String(t.name).slice(0,21)+"...":String(t.name).slice(0,21):"N/A"}).attr("y",function(a,r){return r*(g/t.length)}).attr("dx",0).attr("dy",l-o).attr("class",function(t){return null!==t.name?"name":void 0}).on("click",function(t){return null!==t.name?window.location.assign(window.location.origin+"/"+r+"/"+t.name):void 0}).attr("id",function(t,a){return t.name})},createBarChartContract=function(t,a,r){function e(){return d3.svg.axis().scale(u).orient("left").ticks(5)}if($(window).width()<768)var n=200;else var n=300;var i="#"+a,l=$(i).parent().width(),o={top:20,right:20,bottom:20,left:100},s=l-o.left-o.right,c=n-o.top-o.bottom,d=d3.scale.ordinal().rangeRoundBands([0,s],.35),u=d3.scale.linear().range([c,0]),f=d3.svg.axis().scale(d).orient("bottom"),h=d3.svg.axis().scale(u).orient("left").ticks(5),g=d3.select("#barChart-amount").append("svg").attr("width",s+o.left+1).attr("height",c+o.top+o.bottom).append("g").attr("transform","translate("+o.left+","+o.top+")");t.forEach(function(t){t.name=t.name,t.value=+t.value}),d.domain(t.map(function(t){return t.name})),u.domain([0,d3.max(t,function(t){return t.value})]),g.append("g").attr("class","x axis").attr("transform","translate(0,"+c+")").call(f).selectAll("text").style("text-anchor","end").attr("dx","1em").attr("dy",".75em"),g.append("g").attr("class","y axis").call(h).append("text").attr("y",6).attr("dy",".71em"),g.append("svg:g").attr("class","grid").attr("transform","translate(0,0)").call(e().tickSize(-s,0,0).tickFormat("")),g.selectAll("bar").data(t).enter().append("rect").attr("class","bars").attr("x",function(t){return d(t.name)}).attr("width",d.rangeBand()).attr("y",c).attr("height",0).transition().duration(900).ease("linear").attr("height",function(t){return c-u(t.value)}).attr("y",function(t){return u(t.value)})};