var API={post:function(e,t){return $.ajax({url:e,data:t,type:"POST"})},get:function(e,t,a){return $.ajax({url:e,data:t,async:"undefined"==typeof a?!0:a,type:"GET"})},"delete":function(e,t){return $.ajax({url:e,data:t,type:"DELETE"})}},widthOfParent=$(".chart-wrap").width();$("#select-contractor, #select-contractor-year").change(function(){var e=$("#select-contractor").val(),t=$("#select-contractor").attr("data-for"),a=$("#select-contractor").attr("data"),o=$("#select-contractor-year").val(),s={filter:e,type:"contractor",dataFor:t,param:a,year:o};API.get(route,s).success(function(t){$("#barChart-contractors").empty(),createBarChartProcuring(JSON.parse(t),"barChart-contractors","contracts/contractor",widthOfParent,e)})}),$("#select-agency, #select-agency-year").change(function(){var e=$("#select-agency").val(),t=$("#select-agency").attr("data-for"),a=$("#select-agency").attr("data"),o=$("#select-agency-year").val(),s={filter:e,type:"agency",dataFor:t,param:a,year:o};API.get(route,s).success(function(t){$("#barChart-procuring").empty(),createBarChartProcuring(JSON.parse(t),"barChart-procuring","procuring-agency",widthOfParent,e)})}),$("#select-goods, #select-goods-year").change(function(){var e=$("#select-goods").val(),t=$("#select-goods").attr("data-for"),a=$("#select-goods").attr("data"),o=$("#select-goods-year").val(),s={filter:e,type:"goods",dataFor:t,param:a,year:o};API.get(route,s).success(function(t){$("#barChart-goods").empty(),createBarChartProcuring(JSON.parse(t),"barChart-goods","goods",widthOfParent,e)})}),$("#subscribe").click(function(){var e=$('input[name="email"]').val(),t={email:e};API.post(subscribeRoute,t).success(function(e){$("#subscribeModal").css("display","block"),"true"==e?$("#showMsg").html("Thank you for subscribing."):$("#showMsg").html("This email has already been used.")})}),$(document).ready(function(){$(".burger-menu").click(function(){$("#main-menu .menu").slideToggle(300),$(".header-banner .fixed-header").toggleClass("add-background"),$(this).toggleClass("menu-on")}),$(".search-button").click(function(){$(window).width()>1270?($(this).parent().toggleClass("open"),$(".fixed-header .menu").toggleClass("toggle-visibility")):($(this).parent().toggleClass("open"),$(".fixed-header .top-bar-left").toggleClass("toggle-visibility-small"),$(".burger-menu-button").toggleClass("toggle-visibility-small")),$(".language-selector").toggleClass("toggle-visibility")}),$(document).mouseup(function(e){var t=$(".search,.advance-search-wrap,.language-selector");t.is(e.target)||0!==t.has(e.target).length||(t.removeClass("open"),$(".fixed-header .menu").removeClass("toggle-visibility"),$(".fixed-header .top-bar-left").removeClass("toggle-visibility-small"),$(".burger-menu-button").removeClass("toggle-visibility-small"),$(".language-selector").removeClass("toggle-visibility"))}),$(window).scroll(function(){var e=$(".header-banner").outerHeight()-68;$(document).scrollTop()>e?$("header.top-bar").css("background-color","#0046AE"):$(document).scrollTop()>67?$("header.top-bar").css("background-color","rgba(0,66,177,0.8)"):$("header.top-bar").css("background-color","transparent")});var e=function(){if($(window).width()>640){var e=$("#status").width(),t=e+40;headerWidth=$("#status").parents(".row").width()-t,$("#left-header").width(headerWidth)}};e(),$(".show-filter").click(function(){$(this);$(".advance-search-wrap").slideToggle(),$(".filter-toggler a").toggleClass("active"),$(window).width()>768&&$(".multiple-search-wrap").toggleClass("position")}),$(".advance-search-wrap .cancel-btn").click(function(){$(".advance-search-wrap").slideUp(),$(".filter-toggler a").removeClass("active"),$(window).width()>768&&$(".multiple-search-wrap").removeClass("position")}),$(".toggle-switch").click(function(e){var t=this;e.preventDefault(),$(t).toggleClass("toggle--on").toggleClass("toggle--off").addClass("toggle--moving"),setTimeout(function(){$(t).removeClass("toggle--moving")},200),$(".toggle--on").parents(".custom-switch-wrap").find(".json-view").show(),$(".toggle--on").parents(".custom-switch-wrap").find(".table-view").hide(),$(".toggle--off").parents(".custom-switch-wrap").find(".json-view").hide(),$(".toggle--off").parents(".custom-switch-wrap").find(".table-view").show()}),$(".expand-btn").on("click",function(){$(".expand-btn").hide(),$(".collapse-btn").show(),expand()}),$(".collapse-btn").on("click",function(){$(".collapse-btn").hide(),$(".expand-btn").show(),collapse()});var t=function(){$(window).width()<775?$(".tabs-content .tabs-panel").addClass("is-active"):($("#panel2").removeClass("is-active"),$("#panel1-label").addClass("is-active"))};t();var a=function(){$(window).width()>1270&&($(".main-content").removeClass("menu-on"),$("#main-menu .menu").slideUp(300),$(".burger-menu").removeClass("menu-on"),$(".header-banner .fixed-header").removeClass("add-background"))};$(".main-content").click(function(){a()}),a(),$("#myBtn").click(function(){$("#myModal").css("display","block")}),$(".close").click(function(){$("#myModal").css("display","none")}),$(".alert .close").click(function(){$("#subscribeModal").css("display","none")}),$(window).click(function(e){"subscribeModal"===e.target.id&&$("#subscribeModal").css("display","none")}),$(document).ready(function(){$(".chart-wrap").each(function(){var e=$(this).find("svg");0!=e.length&&($(this).removeClass("default-view"),$(this).find(".filter-section").show(),$(this).find(".loader-text").hide(),$(".default-view").parents(".each-chart-section").css("height","auto"))})}),$(".jTable .main-title").each(function(){$(this).parent().addClass("main-title-wrap")}),$(".custom-table").css("width","100%"),$(window).resize(function(){e(),t(),a();var o=$("#table_id_wrapper").width();$(".persit-header").width(o),$(".custom-table").width(o)})});